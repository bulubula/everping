{% extends "base.html" %}
{% block content %}
<div class="card mb-3">
  <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
    <div class="d-flex gap-2 flex-wrap">
      <button class="btn btn-primary btn-sm" type="button" data-range="latest">latest 300</button>
      <button class="btn btn-outline-secondary btn-sm" type="button" data-range="today">today</button>
      <button class="btn btn-outline-secondary btn-sm" type="button" data-range="week">this week</button>
      <button class="btn btn-outline-secondary btn-sm" type="button" data-range="month">this month</button>
    </div>
    <form action="{{ request.url_for('metrics_clear') }}" method="post">
      <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Clear all metrics?')">Clear</button>
    </form>
  </div>
</div>
<div id="metricsCharts" class="row g-3"></div>
<script>
  window.__metricsRows = {{ chart_rows | safe }};
</script>
<script src="{{ request.url_for('static', path='metrics.js') }}"></script>
{% endblock %}
